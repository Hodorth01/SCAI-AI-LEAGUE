<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>
<div id="visualization"></div>
<script src="tennis-visualization.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Use Papa Parse to read the CSV
    Papa.parse('output.csv', {
      download: true,
      header: true,
      dynamicTyping: true,
      complete: function(results) {
        // Call visualization with Papa Parse results
        visualizeTennisData('output.csv',show_heatmap = true, show_bounces = false)
          .then(figure => {
            Plotly.newPlot('visualization', figure.data, figure.layout);
          });
      }
    });
  });
</script>